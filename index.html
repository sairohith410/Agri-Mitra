<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="theme-color" content="#1B3A2D">
<meta name="description" content="AgriMitra â€” AI-powered smart farming advisor for Indian farmers. Crop disease, fertilizer, irrigation, market and subsidy guidance.">
<title>AgriMitra â€” AI Smart Farming Advisor</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&display=swap" rel="stylesheet">

<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DESIGN TOKENS â€” CSS VARIABLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  /* â”€â”€ Core palette â€” from AgriMitra reference â”€â”€ */
  --forest:        #1B3A2D;
  --forest-mid:    #2D5A40;
  --forest-light:  #2D5A40;   /* same as mid â€” richer, deeper green */
  --leaf:          #4A8C5C;
  --leaf-light:    #6AB07A;
  --gold:          #C8962A;
  --gold-light:    #E8B84B;
  --gold-pale:     #FFF3D6;
  --earth:         #8B5E3C;
  --earth-light:   #B07D52;
  --sky:           #7AADCF;   /* cool-blue accent from reference */
  --cream:         #F7F2EA;
  --cream-dark:    #EDE5D4;
  --sand:          #D4C5A9;
  --text-dark:     #1A2B1F;
  --text-mid:      #4A5E52;
  --text-light:    #8A9E92;
  --white:         #FFFFFF;
  --error:         #C0392B;
  --success:       #27AE60;

  --card-bg:       rgba(255,255,255,0.82);  /* slightly more opaque â€” cleaner cards */
  --card-border:   rgba(27,58,45,0.08);
  --shadow-sm:     0 2px 8px  rgba(27,58,45,0.08);
  --shadow-md:     0 8px 32px rgba(27,58,45,0.12);
  --shadow-lg:     0 16px 48px rgba(27,58,45,0.22);
  --radius-xs:     6px;
  --radius-sm:     10px;
  --radius:        18px;
  --radius-lg:     24px;
  --transition:    all 0.32s cubic-bezier(0.4,0,0.2,1);
  --transition-slow: all 0.45s cubic-bezier(0.4,0,0.2,1);

  /* Fluid spacing scale */
  --space-xs:  clamp(4px,  1vw,  8px);
  --space-sm:  clamp(8px,  2vw,  12px);
  --space-md:  clamp(12px, 2.5vw, 20px);
  --space-lg:  clamp(20px, 4vw,  40px);
  --space-xl:  clamp(32px, 6vw,  64px);
  --space-2xl: clamp(48px, 8vw,  96px);

  /* Fluid page padding */
  --page-pad:  clamp(16px, 5vw, 80px);

  /* Nav height (changes at breakpoints) */
  --nav-h: 62px;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESET & BASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; -webkit-text-size-adjust: 100%; }

body {
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--cream);
  color: var(--text-dark);
  overflow-x: hidden;
  min-height: 100svh; /* svh for mobile browser chrome */
  -webkit-font-smoothing: antialiased;
}

img { max-width: 100%; height: auto; display: block; }
button { font-family: inherit; cursor: pointer; border: none; background: none; }
input, select, textarea { font-family: inherit; }

::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: var(--cream-dark); }
::-webkit-scrollbar-thumb { background: var(--leaf); border-radius: 3px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GLOBAL BACKGROUND AMBIANCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
body::before {
  content: '';
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background:
    radial-gradient(ellipse 60% 50% at 10% 15%, rgba(74,140,92,0.07) 0%, transparent 60%),
    radial-gradient(ellipse 50% 40% at 90% 85%, rgba(200,150,42,0.06) 0%, transparent 60%),
    radial-gradient(ellipse 40% 40% at 50% 50%, rgba(27,58,45,0.03) 0%, transparent 70%);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TYPOGRAPHY â€” READABLE FIXED SCALE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.t-hero  { font-size: clamp(2.4rem, 5vw, 4.2rem); }
.t-h1    { font-size: clamp(1.8rem, 4vw, 3rem); }
.t-h2    { font-size: clamp(1.4rem, 3vw, 2.2rem); }
.t-h3    { font-size: 1.1rem; }
.t-body  { font-size: 0.95rem; }
.t-sm    { font-size: 0.85rem; }
.t-xs    { font-size: 0.78rem; }

.serif { font-family: 'Playfair Display', Georgia, serif; }
.bold  { font-weight: 700; }
.mid   { color: var(--text-mid); }
.light { color: var(--text-light); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NAVIGATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 200;
  height: var(--nav-h);
  background: rgba(247,242,234,0.9);
  backdrop-filter: blur(18px) saturate(1.4);
  -webkit-backdrop-filter: blur(18px) saturate(1.4);
  border-bottom: 1px solid rgba(27,58,45,0.08);
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 var(--page-pad);
  transition: var(--transition);
  gap: var(--space-sm);
}

.nav-logo {
  display: flex; align-items: center; gap: 9px;
  text-decoration: none; cursor: pointer; flex-shrink: 0;
}
.nav-logo-icon {
  width: 36px; height: 36px; border-radius: 9px; flex-shrink: 0;
  background: linear-gradient(135deg, var(--leaf) 0%, var(--forest) 100%);
  display: grid; place-items: center; font-size: 1rem;
}
.nav-logo-text {
  font-family: 'Playfair Display', serif;
  font-weight: 700; font-size: clamp(1.1rem, 2.5vw, 1.45rem);
  color: var(--forest); white-space: nowrap;
}

/* Desktop nav links */
.nav-desktop-links {
  display: flex; align-items: center; gap: 2px;
  flex: 1; justify-content: center;
  overflow: hidden;
}
.nav-link {
  padding: 6px 11px; border-radius: var(--radius-xs);
  font-size: 0.8rem; font-weight: 500; color: var(--text-mid);
  transition: var(--transition); white-space: nowrap;
}
.nav-link:hover, .nav-link.active {
  background: var(--forest); color: var(--white);
}
.nav-cta {
  padding: 8px 16px; border-radius: var(--radius-xs);
  background: var(--gold); color: var(--white);
  font-weight: 600; font-size: 0.82rem; flex-shrink: 0;
  transition: var(--transition); white-space: nowrap;
}
.nav-cta:hover { background: var(--earth); transform: translateY(-1px); }

/* Hamburger */
.hamburger {
  display: none; flex-direction: column; justify-content: center;
  gap: 5px; width: 38px; height: 38px; padding: 6px;
  border-radius: var(--radius-xs); flex-shrink: 0;
}
.hamburger span {
  display: block; height: 2px; background: var(--forest);
  border-radius: 2px; transition: var(--transition);
}
.hamburger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
.hamburger.open span:nth-child(2) { opacity: 0; transform: scaleX(0); }
.hamburger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

/* Mobile drawer */
#mobile-nav {
  position: fixed; top: var(--nav-h); left: 0; right: 0; z-index: 199;
  background: rgba(247,242,234,0.97);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  padding: 16px var(--page-pad) 24px;
  border-bottom: 1px solid var(--card-border);
  transform: translateY(-110%);
  opacity: 0; transition: var(--transition-slow);
  display: flex; flex-direction: column; gap: 4px;
  box-shadow: var(--shadow-md);
}
#mobile-nav.open { transform: translateY(0); opacity: 1; }
.mobile-nav-link {
  padding: 11px 14px; border-radius: var(--radius-sm);
  font-size: 0.95rem; font-weight: 500; color: var(--text-dark);
  text-align: left; transition: var(--transition);
}
.mobile-nav-link:hover, .mobile-nav-link.active {
  background: var(--forest); color: var(--white);
}
.mobile-nav-divider {
  height: 1px; background: var(--card-border); margin: 6px 0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PAGES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.page {
  display: none;
  min-height: 100svh;
  padding-top: var(--nav-h);
  position: relative; z-index: 1;
}
.page.active { display: block; animation: pageIn 0.4s ease both; }

@keyframes pageIn {
  from { opacity: 0; transform: translateY(14px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HOME â€” HERO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hero {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  gap: var(--space-xl);
  padding: var(--space-xl) var(--page-pad);
  min-height: calc(100svh - var(--nav-h));
}

.hero-badge {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 5px 12px; border-radius: 20px;
  background: rgba(74,140,92,0.12); color: var(--leaf);
  font-size: 0.78rem; font-weight: 600; margin-bottom: 18px;
}
.hero-badge::before { content: 'â—'; font-size: 0.5rem; animation: pulse 2s infinite; }
@keyframes pulse {
  0%,100% { opacity: 1; } 50% { opacity: 0.3; }
}

.hero-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2.2rem, 5vw, 4.2rem);
  font-weight: 900; line-height: 1.08; color: var(--forest);
  margin-bottom: var(--space-md);
  letter-spacing: -0.02em;
}
.hero-title span { color: var(--gold); }
.hero-title em {
  font-style: normal;
  background: linear-gradient(135deg, var(--leaf), var(--forest));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero-desc {
  font-size: 1.05rem;
  line-height: 1.72; color: var(--text-mid);
  margin-bottom: var(--space-lg); max-width: 500px;
}

.btn-row { display: flex; gap: 12px; flex-wrap: wrap; }
.btn {
  display: inline-flex; align-items: center; gap: 8px;
  padding: clamp(11px,2vw,14px) clamp(18px,3vw,26px);
  border-radius: var(--radius-sm); font-weight: 600;
  font-size: clamp(0.85rem,1.5vw,0.95rem);
  transition: var(--transition); white-space: nowrap;
}
.btn-primary { background: var(--forest); color: var(--white); }
.btn-primary:hover { background: var(--forest-mid); transform: translateY(-2px); box-shadow: var(--shadow-md); }
.btn-outline {
  background: transparent; color: var(--forest);
  border: 2px solid var(--forest);
}
.btn-outline:hover { background: var(--forest); color: var(--white); }
.btn-gold { background: var(--gold); color: var(--white); }
.btn-gold:hover { background: var(--earth); transform: translateY(-2px); box-shadow: var(--shadow-md); }

/* Hero cards grid */
.hero-cards {
  display: grid; grid-template-columns: 1fr 1fr; gap: 14px;
}
.hero-card {
  background: var(--card-bg); border-radius: var(--radius);
  padding: clamp(16px,3vw,24px);
  border: 1.5px solid var(--card-border); cursor: pointer;
  transition: var(--transition);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow-sm);
}
.hero-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); border-color: var(--leaf); }
.hero-card.span-2 { grid-column: span 2; display: flex; align-items: center; gap: 16px; }
.hero-card-icon { font-size: clamp(1.4rem,3vw,2rem); flex-shrink: 0; }
.hero-card h3 {
  font-family: 'Playfair Display', serif;
  font-size: 1rem;
  font-weight: 700; color: var(--forest); margin-bottom: 4px;
}
.hero-card p { font-size: 0.8rem; color: var(--text-mid); line-height: 1.4; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATS BAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.stats-bar {
  background: var(--forest);
  padding: clamp(20px,4vw,32px) var(--page-pad);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: clamp(16px,3vw,32px);
  text-align: center;
}
.stat-num {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.4rem,3vw,2rem);
  font-weight: 700; color: var(--gold-light);
  line-height: 1.1;
}
.stat-label { font-size: clamp(0.68rem,1vw,0.78rem); color: rgba(255,255,255,0.55); margin-top: 4px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SECTION WRAPPER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.section {
  padding: var(--space-2xl) var(--page-pad);
}
.section-header { margin-bottom: var(--space-lg); }
.section-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.6rem,3.5vw,2.2rem);
  font-weight: 700; color: var(--forest); margin-bottom: 8px;
}
.section-sub { font-size: 1rem; color: var(--text-mid); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FEATURES GRID
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 260px), 1fr));
  gap: clamp(12px,2vw,20px);
}
.feature-card {
  background: var(--card-bg); border-radius: var(--radius); cursor: pointer;
  padding: clamp(20px,3vw,28px);
  border: 1.5px solid var(--card-border);
  transition: var(--transition); position: relative; overflow: hidden;
  backdrop-filter: blur(10px);
}
.feature-card::after {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 3px;
  background: linear-gradient(90deg, var(--leaf), var(--gold));
  transform: scaleX(0); transform-origin: left; transition: var(--transition);
}
.feature-card:hover::after  { transform: scaleX(1); }
.feature-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); }
.feature-icon {
  width: clamp(40px,6vw,52px); height: clamp(40px,6vw,52px);
  background: var(--cream-dark); border-radius: 13px;
  display: grid; place-items: center;
  font-size: clamp(1.2rem,2.5vw,1.5rem); margin-bottom: 14px;
}
.feature-card h3 {
  font-family: 'Playfair Display', serif;
  font-size: 1.1rem;
  font-weight: 700; color: var(--forest); margin-bottom: 7px;
}
.feature-card p { font-size: 0.85rem; color: var(--text-mid); line-height: 1.55; }
.feature-tag {
  display: inline-block; margin-top: 12px;
  padding: 4px 10px; border-radius: 20px;
  background: var(--cream-dark); color: var(--leaf);
  font-size: 0.72rem; font-weight: 600;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MODULE HERO BANNER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.module-banner {
  background: linear-gradient(135deg, var(--forest) 0%, var(--forest-mid) 60%, var(--forest-light) 100%);
  padding: clamp(36px,6vw,64px) var(--page-pad) clamp(28px,4vw,44px);
  position: relative; overflow: hidden;
}
.module-banner::before {
  content: '';
  position: absolute; right: clamp(-80px,-10vw,-20px); top: -80px;
  width: clamp(200px,35vw,380px); height: clamp(200px,35vw,380px);
  border-radius: 50%;
  background: radial-gradient(circle, rgba(200,150,42,0.14) 0%, transparent 70%);
  pointer-events: none;
}
.module-banner::after {
  content: '';
  position: absolute; left: -40px; bottom: -40px;
  width: 180px; height: 180px; border-radius: 50%;
  background: radial-gradient(circle, rgba(74,140,92,0.1) 0%, transparent 70%);
  pointer-events: none;
}
.module-tag {
  display: inline-block; padding: 4px 11px; border-radius: 20px;
  background: rgba(255,255,255,0.12); color: rgba(255,255,255,0.75);
  font-size: clamp(0.68rem,1.2vw,0.78rem); font-weight: 500; margin-bottom: 12px;
}
.module-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.6rem,4vw,2.6rem);
  font-weight: 700; color: var(--white);
  margin-bottom: 10px; line-height: 1.15;
}
.module-desc {
  color: rgba(255,255,255,0.7);
  font-size: 1rem;
  max-width: 580px; line-height: 1.65;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MODULE LAYOUT â€” FORM + SIDEBAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.module-body {
  padding: clamp(20px,4vw,40px) var(--page-pad);
}

.module-layout {
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: clamp(20px,3vw,32px);
  align-items: start;
}

/* Tips sidebar */
.sidebar-card {
  background: var(--card-bg); border-radius: var(--radius); padding: clamp(18px,3vw,26px);
  border: 1.5px solid var(--card-border); box-shadow: var(--shadow-sm);
  position: sticky; top: calc(var(--nav-h) + 16px);
}
.sidebar-card h4 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(0.9rem,1.8vw,1rem); font-weight: 700;
  color: var(--forest); margin-bottom: 14px;
  display: flex; align-items: center; gap: 7px;
}
.tip-item {
  display: flex; gap: 9px;
  padding: 10px 0; border-bottom: 1px solid rgba(27,58,45,0.06);
  font-size: 0.82rem; color: var(--text-mid); line-height: 1.4;
}
.tip-item:last-child { border-bottom: none; }
.tip-bullet { color: var(--gold); font-weight: 700; flex-shrink: 0; margin-top: 1px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FORM CARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.form-card {
  background: var(--card-bg); border-radius: var(--radius);
  padding: clamp(20px,4vw,36px);
  border: 1.5px solid var(--card-border); box-shadow: var(--shadow-sm);
}
.form-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1rem,2.2vw,1.25rem); font-weight: 700;
  color: var(--forest); margin-bottom: clamp(16px,3vw,24px);
  display: flex; align-items: center; gap: 8px;
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 200px), 1fr));
  gap: clamp(12px,2vw,18px);
  margin-bottom: clamp(12px,2vw,18px);
}
.form-grid.full { grid-template-columns: 1fr; }

.form-group { display: flex; flex-direction: column; gap: 5px; }
.form-label {
  font-size: 0.82rem; font-weight: 600;
  color: var(--text-mid); text-transform: uppercase; letter-spacing: 0.05em;
}
.form-input, .form-select, .form-textarea {
  padding: 11px 14px;
  border-radius: var(--radius-sm);
  border: 1.5px solid rgba(27,58,45,0.15);
  background: var(--cream); color: var(--text-dark);
  font-family: 'DM Sans', sans-serif;
  font-size: 0.9rem;
  transition: var(--transition); outline: none;
  width: 100%;
}
.form-input:focus, .form-select:focus, .form-textarea:focus {
  border-color: var(--leaf); background: var(--white);
  box-shadow: 0 0 0 3px rgba(74,140,92,0.1);
}
.form-select { cursor: pointer; appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' fill='none'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%234A5E52' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: right 12px center;
  padding-right: 34px;
}
.form-textarea { resize: vertical; min-height: clamp(70px,10vw,100px); }

.submit-btn {
  width: 100%; padding: clamp(12px,2vw,15px);
  background: linear-gradient(135deg, var(--forest) 0%, var(--forest-mid) 100%);
  color: var(--white); border-radius: var(--radius-sm);
  font-size: clamp(0.9rem,1.6vw,1rem); font-weight: 600;
  transition: var(--transition); margin-top: 6px;
  display: flex; align-items: center; justify-content: center; gap: 9px;
  position: relative; overflow: hidden;
}
.submit-btn::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(135deg, transparent 0%, rgba(255,255,255,0.08) 100%);
  opacity: 0; transition: var(--transition);
}
.submit-btn:hover::after { opacity: 1; }
.submit-btn:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
.submit-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none !important; box-shadow: none !important; }
.submit-btn:active { transform: scale(0.99); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SPINNER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.spinner {
  width: 18px; height: 18px; flex-shrink: 0;
  border: 2.5px solid rgba(255,255,255,0.3);
  border-top-color: var(--white); border-radius: 50%;
  animation: spin 0.75s linear infinite; display: none;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SKELETON LOADING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.skeleton {
  background: linear-gradient(90deg,
    var(--cream-dark) 25%,
    rgba(237,229,212,0.6) 50%,
    var(--cream-dark) 75%);
  background-size: 400% 100%;
  animation: shimmer 1.4s infinite;
  border-radius: 6px;
}
@keyframes shimmer {
  0%   { background-position: 100% 0; }
  100% { background-position: -100% 0; }
}
.skeleton-line { height: 14px; margin-bottom: 10px; }
.skeleton-line:last-child { width: 65%; margin-bottom: 0; }
.skeleton-block { height: 80px; margin-bottom: 12px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESULT CARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.result-card {
  background: var(--card-bg); border-radius: var(--radius);
  padding: clamp(20px,3vw,30px);
  border: 1.5px solid rgba(74,140,92,0.18);
  box-shadow: var(--shadow-md); margin-top: clamp(18px,3vw,28px);
  position: relative; overflow: hidden;
  display: none;
}
.result-card.visible { display: block; animation: pageIn 0.4s ease; }
.result-card::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 4px;
  background: linear-gradient(90deg, var(--leaf), var(--gold), var(--leaf));
  background-size: 200% 100%;
  animation: gradientFlow 3s linear infinite;
}
@keyframes gradientFlow {
  0%   { background-position: 0% 0; }
  100% { background-position: 200% 0; }
}
.result-header {
  display: flex; align-items: flex-start; gap: 12px; margin-bottom: clamp(14px,2vw,20px);
}
.result-icon {
  width: 40px; height: 40px; flex-shrink: 0;
  background: linear-gradient(135deg, var(--leaf), var(--forest));
  border-radius: 11px; display: grid; place-items: center;
  color: white; font-size: 1rem;
}
.result-header-text h3 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(0.95rem,2vw,1.1rem); font-weight: 700; color: var(--forest);
}
.result-timestamp { font-size: 0.72rem; color: var(--text-light); margin-top: 2px; }

.result-body {
  font-size: 0.92rem;
  line-height: 1.75; color: var(--text-dark);
  white-space: pre-wrap; word-break: break-word;
}
.result-body strong { color: var(--forest); }

/* Loading skeleton inside result */
.result-loading .result-body { display: none; }
.result-skeleton { padding-top: 4px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   REVIEWS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.reviews-section {
  background: var(--forest);
  padding: var(--space-2xl) var(--page-pad);
}
.reviews-section .section-title { color: var(--white); }
.reviews-section .section-sub   { color: rgba(255,255,255,0.55); }
.reviews-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 280px), 1fr));
  gap: clamp(12px,2vw,20px);
  margin-top: var(--space-lg);
}
.review-card {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: var(--radius); padding: clamp(18px,3vw,24px);
  transition: var(--transition);
}
.review-card:hover { background: rgba(255,255,255,0.1); transform: translateY(-3px); }
.review-stars { color: var(--gold-light); font-size: 0.9rem; margin-bottom: 10px; }
.review-text {
  font-size: clamp(0.82rem,1.4vw,0.88rem);
  color: rgba(255,255,255,0.75); line-height: 1.6;
  margin-bottom: 14px; font-style: italic;
}
.review-author { display: flex; align-items: center; gap: 10px; }
.review-avatar {
  width: 36px; height: 36px; border-radius: 50%; flex-shrink: 0;
  background: linear-gradient(135deg, var(--leaf), var(--gold));
  display: grid; place-items: center; color: white;
  font-weight: 700; font-size: 0.82rem;
}
.review-name { font-weight: 600; font-size: 0.85rem; color: var(--white); }
.review-role { font-size: 0.72rem; color: rgba(255,255,255,0.45); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ABOUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.about-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(24px,5vw,56px); align-items: start;
}
.about-visual {
  background: linear-gradient(135deg, var(--forest), var(--forest-mid));
  border-radius: var(--radius-lg); padding: clamp(32px,5vw,56px) clamp(24px,4vw,40px);
  text-align: center; color: white;
}
.about-visual-icon { font-size: clamp(3rem,7vw,5.5rem); display: block; margin-bottom: 18px; }
.about-visual h2 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.2rem,3vw,1.8rem); margin-bottom: 12px;
}
.about-visual p { color: rgba(255,255,255,0.65); line-height: 1.65; font-size: clamp(0.85rem,1.5vw,0.95rem); }
.about-stats {
  display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-top: 24px;
}
.about-stat {
  background: var(--card-bg); border-radius: var(--radius); padding: 18px;
  border: 1.5px solid var(--card-border);
}
.about-stat-num {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.3rem,3vw,1.8rem); color: var(--gold); font-weight: 700;
}
.about-stat-label { font-size: clamp(0.72rem,1.2vw,0.8rem); color: var(--text-mid); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FOOTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
footer {
  background: var(--forest);
  padding: clamp(36px,6vw,60px) var(--page-pad) clamp(20px,3vw,28px);
}
.footer-grid {
  display: grid;
  grid-template-columns: 2fr repeat(3, 1fr);
  gap: clamp(24px,4vw,48px);
  margin-bottom: clamp(28px,4vw,44px);
}
.footer-brand-name {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.1rem,2.5vw,1.4rem); color: white; margin-bottom: 9px;
}
.footer-brand p { font-size: clamp(0.78rem,1.3vw,0.85rem); color: rgba(255,255,255,0.5); line-height: 1.6; }
.footer-col h4 {
  color: white; font-size: clamp(0.72rem,1.2vw,0.8rem); font-weight: 600;
  text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 14px;
}
.footer-col ul { list-style: none; display: flex; flex-direction: column; gap: 7px; }
.footer-col li {
  font-size: clamp(0.78rem,1.3vw,0.85rem); color: rgba(255,255,255,0.48);
  cursor: pointer; transition: var(--transition);
}
.footer-col li:hover { color: var(--gold-light); }
.footer-bottom {
  border-top: 1px solid rgba(255,255,255,0.08);
  padding-top: clamp(16px,2.5vw,22px);
  text-align: center; font-size: clamp(0.72rem,1.2vw,0.8rem);
  color: rgba(255,255,255,0.3);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOAST NOTIFICATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#toast {
  position: fixed; z-index: 9999;
  bottom: clamp(16px,3vw,28px); right: clamp(16px,3vw,28px);
  background: var(--forest); color: white;
  padding: clamp(11px,2vw,14px) clamp(14px,3vw,20px);
  border-radius: var(--radius-sm); font-size: clamp(0.82rem,1.4vw,0.88rem);
  font-weight: 500; box-shadow: var(--shadow-lg); max-width: clamp(240px,70vw,320px);
  transform: translateY(90px) scale(0.95); opacity: 0;
  transition: var(--transition-slow);
  pointer-events: none;
}
#toast.show { transform: translateY(0) scale(1); opacity: 1; }
#toast.error { background: var(--error); }
#toast.success { background: var(--success); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   OVERLAY (mobile nav backdrop)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#overlay {
  position: fixed; inset: 0; z-index: 198;
  background: rgba(27,58,45,0.3);
  opacity: 0; pointer-events: none; transition: var(--transition);
}
#overlay.show { opacity: 1; pointer-events: all; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE BREAKPOINTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* â”€â”€ LARGE: 1280px+ â€” keep sidebar at 340px â”€â”€ */
@media (min-width: 1280px) {
  .module-layout { grid-template-columns: 1fr 340px; }
}

/* â”€â”€ MEDIUM-LARGE: 1024pxâ€“1280px â”€â”€ */
@media (max-width: 1280px) and (min-width: 1025px) {
  .nav-link { padding: 5px 8px; font-size: 0.76rem; }
}

/* â”€â”€ TABLET LANDSCAPE / SMALL DESKTOP: 769pxâ€“1024px â”€â”€ */
@media (max-width: 1024px) {
  :root { --nav-h: 60px; }

  /* Hero: stack vertically */
  .hero {
    grid-template-columns: 1fr;
    min-height: unset;
    padding-bottom: var(--space-xl);
  }
  .hero-cards { grid-template-columns: repeat(4, 1fr); }
  .hero-card.span-2 { grid-column: span 2; }
  .hero-desc { max-width: 100%; }

  /* Sidebar collapses below form */
  .module-layout { grid-template-columns: 1fr; }
  .sidebar-card { position: static; }

  /* Footer collapses */
  .footer-grid { grid-template-columns: 1fr 1fr; gap: 24px; }
  .footer-brand { grid-column: span 2; }

  /* About grid */
  .about-grid { grid-template-columns: 1fr; max-width: 600px; }

  /* Nav hides desktop links, shows hamburger */
  .nav-desktop-links { display: none; }
  .hamburger { display: flex; }
  .nav-cta { display: none; }
}

/* â”€â”€ TABLET PORTRAIT: 481pxâ€“768px â”€â”€ */
@media (max-width: 768px) {
  :root { --nav-h: 58px; }

  .hero-cards {
    grid-template-columns: repeat(2, 1fr);
  }
  .hero-card.span-2 { grid-column: span 2; flex-direction: row; }

  .stats-bar {
    grid-template-columns: repeat(3, 1fr);
  }

  .features-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Form always single-column on tablet */
  .form-grid {
    grid-template-columns: 1fr 1fr;
  }

  .reviews-grid { grid-template-columns: 1fr 1fr; }
  .footer-grid { grid-template-columns: 1fr 1fr; }
  .footer-brand { grid-column: span 2; }
}

/* â”€â”€ MOBILE LARGE: 361pxâ€“480px â”€â”€ */
@media (max-width: 480px) {
  :root { --nav-h: 56px; }

  .hero { padding-top: var(--space-lg); gap: var(--space-lg); }
  .hero-title { letter-spacing: -0.01em; }
  .hero-cards { grid-template-columns: 1fr 1fr; gap: 10px; }
  .hero-card.span-2 { flex-direction: column; text-align: center; gap: 8px; }
  .hero-card-icon { font-size: 1.4rem; }
  .btn-row { flex-direction: column; }
  .btn { width: 100%; justify-content: center; }

  .stats-bar {
    grid-template-columns: repeat(2, 1fr);
    gap: 14px;
  }

  .features-grid { grid-template-columns: 1fr; }

  .module-layout { gap: 16px; }

  .form-grid { grid-template-columns: 1fr; }

  .reviews-grid { grid-template-columns: 1fr; }

  .footer-grid { grid-template-columns: 1fr; }
  .footer-brand { grid-column: span 1; }

  .about-stats { grid-template-columns: 1fr 1fr; }

  /* Toast at bottom full-width on mobile */
  #toast {
    left: clamp(12px,4vw,20px); right: clamp(12px,4vw,20px);
    max-width: 100%;
  }
}

/* â”€â”€ MOBILE SMALL: < 360px â”€â”€ */
@media (max-width: 360px) {
  :root { --nav-h: 54px; }
  .nav-logo-text { font-size: 1rem; }
  .hero-title { font-size: 1.85rem; }
  .hero-cards { grid-template-columns: 1fr; }
  .hero-card.span-2 { grid-column: span 1; }
  .stats-bar { grid-template-columns: 1fr 1fr; }
  .about-stats { grid-template-columns: 1fr; }
}

/* â”€â”€ LANDSCAPE PHONE fix â”€â”€ */
@media (max-height: 500px) and (orientation: landscape) {
  .hero { min-height: unset; padding: 20px var(--page-pad); }
  .module-banner { padding: 24px var(--page-pad) 18px; }
}

/* â”€â”€ HIGH-DPI / Retina â”€â”€ */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .nav-logo-icon { image-rendering: crisp-edges; }
}

/* â”€â”€ Print â”€â”€ */
@media print {
  #nav, #mobile-nav, #overlay, #toast, .submit-btn, .hamburger { display: none !important; }
  .page { display: block !important; padding-top: 0; }
  .module-layout { grid-template-columns: 1fr; }
  .sidebar-card { display: none; }
}

/* â”€â”€ Reduced Motion â”€â”€ */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
  .skeleton { animation: none; background: var(--cream-dark); }
}

/* â”€â”€ Dark mode â”€â”€ */
@media (prefers-color-scheme: dark) {
  :root {
    --cream:      #1A2820;
    --cream-dark: #1F3028;
    --card-bg:    rgba(35,55,42,0.88);
    --card-border:rgba(74,140,92,0.15);
    --text-dark:  #E8F0EC;
    --text-mid:   #9AB5A0;
    --text-light: #5A7A64;
    --white:      #E8F0EC;
  }
  .form-input, .form-select, .form-textarea {
    background: var(--cream-dark); color: var(--text-dark);
    border-color: rgba(74,140,92,0.25);
  }
  .feature-icon { background: var(--cream-dark); }
  #nav, #mobile-nav { background: rgba(26,40,32,0.92); }
  .about-stat { background: var(--cream-dark); }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   UTILITY CLASSES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hidden { display: none !important; }
.sr-only { position:absolute; width:1px; height:1px; overflow:hidden; clip:rect(0,0,0,0); }

/* Sky accent chip â€” new from reference palette */
.chip-sky {
  display: inline-block; padding: 3px 10px; border-radius: 20px;
  font-size: 0.75rem; font-weight: 600;
  background: rgba(122,173,207,0.15); color: var(--sky);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   IMAGE UPLOAD â€” Disease Detection
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.upload-section { margin-bottom: 18px; }

.upload-label-text {
  display: block; font-size: 0.82rem; font-weight: 600;
  color: var(--text-mid); text-transform: uppercase;
  letter-spacing: 0.05em; margin-bottom: 5px;
}
.upload-hint {
  display: block; font-size: 0.80rem;
  color: var(--text-light); margin-bottom: 9px;
  line-height: 1.5;
}

.upload-dropzone {
  position: relative; overflow: hidden;
  border: 2px dashed rgba(74,140,92,0.4);
  border-radius: var(--radius-sm);
  padding: 26px 20px; text-align: center;
  cursor: pointer; background: var(--cream);
  transition: var(--transition);
}
.upload-dropzone:hover,
.upload-dropzone.dragover {
  border-color: var(--leaf);
  background: rgba(74,140,92,0.04);
}
.upload-dropzone input[type="file"] {
  position: absolute; inset: 0;
  opacity: 0; cursor: pointer;
  width: 100%; height: 100%;
}
.upload-icon { font-size: 2rem; display: block; margin-bottom: 7px; }
.upload-text {
  font-size: 0.88rem; font-weight: 500;
  color: var(--text-mid);
}
.upload-subtext {
  font-size: 0.76rem; color: var(--text-light); margin-top: 3px;
}

.upload-preview { display: none; margin-top: 12px; position: relative; }
.upload-preview.has-image { display: block; }
.upload-preview img {
  width: 100%; max-height: 240px; object-fit: cover;
  border-radius: var(--radius-sm);
  border: 2px solid rgba(74,140,92,0.22);
  display: block;
}
.upload-remove-btn {
  position: absolute; top: 8px; right: 8px;
  background: rgba(192,57,43,0.88);
  color: white; border: none; border-radius: 50%;
  width: 28px; height: 28px; cursor: pointer;
  font-size: 0.76rem; font-weight: 700;
  display: flex; align-items: center; justify-content: center;
  transition: var(--transition);
}
.upload-remove-btn:hover { background: var(--error); transform: scale(1.1); }
.upload-filename {
  font-size: 0.76rem; color: var(--text-mid);
  margin-top: 6px; display: flex; align-items: center; gap: 5px;
}
.upload-badge {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 3px 9px; border-radius: 20px;
  background: rgba(74,140,92,0.1); color: var(--leaf);
  font-size: 0.72rem; font-weight: 600; margin-top: 6px;
}
</style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     NAVIGATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav id="nav" role="navigation" aria-label="Main navigation">
  <div class="nav-logo" onclick="showPage('home')" role="button" tabindex="0" aria-label="AgriMitra home">
    <div class="nav-logo-icon" aria-hidden="true">ğŸŒ¾</div>
    <span class="nav-logo-text">AgriMitra</span>
  </div>

  <div class="nav-desktop-links" role="menubar">
    <button class="nav-link active" onclick="showPage('home')"       role="menuitem">Home</button>
    <button class="nav-link"       onclick="showPage('disease')"     role="menuitem">Disease</button>
    <button class="nav-link"       onclick="showPage('fertilizer')"  role="menuitem">Fertilizer</button>
    <button class="nav-link"       onclick="showPage('irrigation')"  role="menuitem">Irrigation</button>
    <button class="nav-link"       onclick="showPage('market')"      role="menuitem">Market</button>
    <button class="nav-link"       onclick="showPage('subsidy')"     role="menuitem">Subsidies</button>
    <button class="nav-link"       onclick="showPage('soil')"        role="menuitem">Soil</button>
    <button class="nav-link"       onclick="showPage('weather')"     role="menuitem">Weather</button>
    <button class="nav-link"       onclick="showPage('about')"       role="menuitem">About</button>
  </div>

  <button class="nav-cta" onclick="showPage('disease')" aria-label="Get AI advice">Get AI Advice â†’</button>

  <button class="hamburger" id="hamburger" aria-label="Open navigation menu"
          aria-expanded="false" aria-controls="mobile-nav">
    <span></span><span></span><span></span>
  </button>
</nav>

<!-- Mobile drawer -->
<div id="mobile-nav" role="menu" aria-label="Mobile navigation">
  <button class="mobile-nav-link active" onclick="showPage('home');closeMobileNav()"   role="menuitem">ğŸ  Home</button>
  <button class="mobile-nav-link"        onclick="showPage('disease');closeMobileNav()"    role="menuitem">ğŸ”¬ Crop Disease Detection</button>
  <button class="mobile-nav-link"        onclick="showPage('fertilizer');closeMobileNav()" role="menuitem">ğŸ§ª Fertilizer Optimizer</button>
  <button class="mobile-nav-link"        onclick="showPage('irrigation');closeMobileNav()" role="menuitem">ğŸ’§ Irrigation Planner</button>
  <button class="mobile-nav-link"        onclick="showPage('market');closeMobileNav()"     role="menuitem">ğŸ“Š Market Intelligence</button>
  <div class="mobile-nav-divider" role="separator"></div>
  <button class="mobile-nav-link"        onclick="showPage('subsidy');closeMobileNav()"    role="menuitem">ğŸ›ï¸ Subsidies & Loans</button>
  <button class="mobile-nav-link"        onclick="showPage('soil');closeMobileNav()"       role="menuitem">ğŸª± Soil Health</button>
  <button class="mobile-nav-link"        onclick="showPage('weather');closeMobileNav()"    role="menuitem">ğŸŒ¤ï¸ Weather Advisory</button>
  <button class="mobile-nav-link"        onclick="showPage('harvest');closeMobileNav()"    role="menuitem">ğŸŒ¾ Harvest Planning</button>
  <button class="mobile-nav-link"        onclick="showPage('organic');closeMobileNav()"    role="menuitem">ğŸ€ Organic Farming</button>
  <div class="mobile-nav-divider" role="separator"></div>
  <button class="mobile-nav-link"        onclick="showPage('about');closeMobileNav()"      role="menuitem">â„¹ï¸ About AgriMitra</button>
</div>
<div id="overlay" onclick="closeMobileNav()" aria-hidden="true"></div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     HOME PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<main id="page-home" class="page active" role="main">

  <!-- Hero -->
  <section class="hero">
    <div class="hero-text">
      <div class="hero-badge">ğŸŸ¢ AI-Powered Advisory â€” Live</div>
      <h1 class="hero-title">
        Smart Farming<br>
        Starts with<br>
        <span>AgriMitra</span>
      </h1>
      <p class="hero-desc">
        Your pocket agricultural advisor â€” powered by AI. Instant guidance on crop diseases, fertilizers, irrigation, market prices, and government subsidies. Free. Always available.
      </p>
      <div class="btn-row">
        <button class="btn btn-primary" onclick="showPage('disease')">ğŸ”¬ Diagnose My Crop</button>
        <button class="btn btn-outline" onclick="showPage('market')">ğŸ“ˆ Check Market Price</button>
      </div>
    </div>

    <div class="hero-cards" aria-label="Quick access modules">
      <div class="hero-card span-2" onclick="showPage('disease')" role="button" tabindex="0">
        <div class="hero-card-icon">ğŸ¦ </div>
        <div>
          <h3>Crop Disease Detection</h3>
          <p>Describe symptoms â†’ AI identifies disease + full treatment plan in seconds</p>
        </div>
      </div>
      <div class="hero-card" onclick="showPage('fertilizer')" role="button" tabindex="0">
        <div class="hero-card-icon">ğŸ§ª</div>
        <h3>Fertilizer</h3>
        <p>NPK optimization & schedules</p>
      </div>
      <div class="hero-card" onclick="showPage('irrigation')" role="button" tabindex="0">
        <div class="hero-card-icon">ğŸ’§</div>
        <h3>Irrigation</h3>
        <p>Smart water scheduling</p>
      </div>
      <div class="hero-card" onclick="showPage('market')" role="button" tabindex="0">
        <div class="hero-card-icon">ğŸ“Š</div>
        <h3>Market</h3>
        <p>Price trends & mandi advice</p>
      </div>
      <div class="hero-card" onclick="showPage('subsidy')" role="button" tabindex="0">
        <div class="hero-card-icon">ğŸ›ï¸</div>
        <h3>Subsidies</h3>
        <p>Find eligible govt schemes</p>
      </div>
    </div>
  </section>

  <!-- Stats -->
  <div class="stats-bar" role="region" aria-label="AgriMitra statistics">
    <div class="stat-item"><div class="stat-num">9+</div><div class="stat-label">AI Modules</div></div>
    <div class="stat-item"><div class="stat-num">500+</div><div class="stat-label">Diseases Covered</div></div>
    <div class="stat-item"><div class="stat-num">30+</div><div class="stat-label">Govt. Schemes</div></div>
    <div class="stat-item"><div class="stat-num">24/7</div><div class="stat-label">AI Available</div></div>
    <div class="stat-item"><div class="stat-num">Free</div><div class="stat-label">Always Free</div></div>
  </div>

  <!-- Features -->
  <section class="section">
    <div class="section-header">
      <h2 class="section-title">Everything a Farmer Needs</h2>
      <p class="section-sub">Comprehensive AI tools designed for India's 140 million small and marginal farmers</p>
    </div>
    <div class="features-grid">
      <div class="feature-card" onclick="showPage('disease')" role="button" tabindex="0">
        <div class="feature-icon">ğŸ”¬</div>
        <h3>Crop Disease Detection</h3>
        <p>Describe symptoms or upload a photo to get instant AI diagnosis and a precise treatment plan.</p>
        <span class="feature-tag">AI Diagnosis</span>
      </div>
      <div class="feature-card" onclick="showPage('fertilizer')" role="button" tabindex="0">
        <div class="feature-icon">ğŸŒ±</div>
        <h3>Fertilizer Optimization</h3>
        <p>Get NPK doses, application schedules, and organic alternatives based on soil type and crop.</p>
        <span class="feature-tag">Soil-Specific</span>
      </div>
      <div class="feature-card" onclick="showPage('irrigation')" role="button" tabindex="0">
        <div class="feature-icon">ğŸ’§</div>
        <h3>Irrigation Planning</h3>
        <p>Optimal water requirements and scheduling for each growth stage. Save up to 40% water.</p>
        <span class="feature-tag">Water Smart</span>
      </div>
      <div class="feature-card" onclick="showPage('market')" role="button" tabindex="0">
        <div class="feature-icon">ğŸ“ˆ</div>
        <h3>Market Intelligence</h3>
        <p>Price trends, best mandis, MSP comparison, and the right time to sell your produce.</p>
        <span class="feature-tag">Price Insights</span>
      </div>
      <div class="feature-card" onclick="showPage('subsidy')" role="button" tabindex="0">
        <div class="feature-icon">ğŸ›ï¸</div>
        <h3>Subsidy & Loan Finder</h3>
        <p>Discover PM-KISAN, crop insurance, equipment subsidies, and KCC loans you qualify for.</p>
        <span class="feature-tag">Govt. Schemes</span>
      </div>
      <div class="feature-card" onclick="showPage('soil')" role="button" tabindex="0">
        <div class="feature-icon">ğŸª±</div>
        <h3>Soil Health Analysis</h3>
        <p>Input soil test values and get AI interpretation, amendments, and ideal crop suggestions.</p>
        <span class="feature-tag">Soil Science</span>
      </div>
      <div class="feature-card" onclick="showPage('weather')" role="button" tabindex="0">
        <div class="feature-icon">ğŸŒ¤ï¸</div>
        <h3>Weather-Based Advisory</h3>
        <p>Farming recommendations based on current weather conditions and seasonal forecasts.</p>
        <span class="feature-tag">Weather Smart</span>
      </div>
      <div class="feature-card" onclick="showPage('harvest')" role="button" tabindex="0">
        <div class="feature-icon">ğŸŒ¾</div>
        <h3>Harvest Planning</h3>
        <p>Know when to harvest, post-harvest handling tips, and storage guidance to minimize losses.</p>
        <span class="feature-tag">Yield Optimizer</span>
      </div>
      <div class="feature-card" onclick="showPage('organic')" role="button" tabindex="0">
        <div class="feature-icon">ğŸ€</div>
        <h3>Organic Farming Guide</h3>
        <p>Transition guidance, biofertilizers, Jeevamrutha, composting, and organic certification.</p>
        <span class="feature-tag">Eco Farming</span>
      </div>
    </div>
  </section>

  <!-- Reviews -->
  <section class="reviews-section" role="region" aria-label="Farmer reviews">
    <div class="section-header">
      <h2 class="section-title">Farmers Love AgriMitra</h2>
      <p class="section-sub">Real stories from real farmers across India</p>
    </div>
    <div class="reviews-grid">
      <article class="review-card"><div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div><p class="review-text">"AgriMitra spotted early blight on my tomatoes before I could even tell clearly. Treatment worked perfectly â€” crop saved!"</p><div class="review-author"><div class="review-avatar" aria-hidden="true">RK</div><div><div class="review-name">Rajesh Kumar</div><div class="review-role">Tomato Farmer, Maharashtra</div></div></div></article>
      <article class="review-card"><div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div><p class="review-text">"Found 3 subsidy schemes I never knew about. Applied for PM-KISAN and Drip subsidy â€” got â‚¹12,000 total benefit!"</p><div class="review-author"><div class="review-avatar" aria-hidden="true">PD</div><div><div class="review-name">Priya Devi</div><div class="review-role">Rice Farmer, Andhra Pradesh</div></div></div></article>
      <article class="review-card"><div class="review-stars">â˜…â˜…â˜…â˜…â˜†</div><p class="review-text">"Fertilizer recommendation reduced my cost by 20% while yield improved 15%. Very simple to use on my phone."</p><div class="review-author"><div class="review-avatar" aria-hidden="true">SM</div><div><div class="review-name">Suresh Malhotra</div><div class="review-role">Wheat Farmer, Punjab</div></div></div></article>
    </div>
  </section>

  <footer role="contentinfo">
    <div class="footer-grid">
      <div class="footer-brand">
        <div class="footer-brand-name">ğŸŒ¾ AgriMitra</div>
        <p>AI-powered smart farming decision support for India's small and marginal farmers. Free. Accessible. Intelligent.</p>
      </div>
      <div class="footer-col">
        <h4>AI Tools</h4>
        <ul>
          <li onclick="showPage('disease')">Disease Detection</li>
          <li onclick="showPage('fertilizer')">Fertilizer Advisor</li>
          <li onclick="showPage('irrigation')">Irrigation Planner</li>
          <li onclick="showPage('market')">Market Intelligence</li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Resources</h4>
        <ul>
          <li onclick="showPage('subsidy')">Government Schemes</li>
          <li onclick="showPage('soil')">Soil Health</li>
          <li onclick="showPage('weather')">Weather Advice</li>
          <li onclick="showPage('organic')">Organic Farming</li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Company</h4>
        <ul>
          <li onclick="showPage('about')">About Us</li>
          <li>Privacy Policy</li>
          <li>Terms of Use</li>
          <li>Contact</li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">Â© 2025 AgriMitra â€” Built with â¤ï¸ for Indian Farmers. Powered by AI.</div>
  </footer>
</main>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE: DISEASE DETECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-disease" class="page">
  <div class="module-banner"><span class="module-tag">ğŸ”¬ AI Module</span><h1 class="module-title">Crop Disease Detection</h1><p class="module-desc">Describe your crop's symptoms and get instant AI identification, severity assessment, and a step-by-step treatment plan.</p></div>
  <div class="module-body">
    <div class="module-layout">
      <div>
        <div class="form-card">
          <div class="form-title">ğŸŒ¿ Describe Your Crop's Condition</div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="d-crop">Crop Name *</label><select class="form-select" id="d-crop"><option value="">Select Crop</option><option>Rice / Paddy</option><option>Wheat</option><option>Maize / Corn</option><option>Cotton</option><option>Sugarcane</option><option>Tomato</option><option>Potato</option><option>Onion</option><option>Chilli</option><option>Groundnut</option><option>Soybean</option><option>Mustard</option><option>Banana</option><option>Mango</option><option>Other</option></select></div>
            <div class="form-group"><label class="form-label" for="d-stage">Growth Stage</label><select class="form-select" id="d-stage"><option value="">Select</option><option>Seedling (0â€“30 days)</option><option>Vegetative</option><option>Flowering</option><option>Fruiting / Grain Filling</option><option>Maturity / Pre-harvest</option></select></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="d-part">Affected Part</label><select class="form-select" id="d-part"><option value="">Select</option><option>Leaves</option><option>Stem / Stalk</option><option>Roots</option><option>Fruit / Grain</option><option>Flowers</option><option>Whole Plant</option></select></div>
            <div class="form-group"><label class="form-label" for="d-severity">% Field Affected</label><select class="form-select" id="d-severity"><option value="">Select</option><option>Less than 10%</option><option>10â€“25%</option><option>25â€“50%</option><option>More than 50%</option></select></div>
          </div>

          <!-- â”€â”€ IMAGE UPLOAD â”€â”€ -->
          <div class="upload-section">
            <span class="upload-label-text">ğŸ“· Upload Crop Photo (Optional but Recommended)</span>
            <span class="upload-hint">Take a clear photo of the affected part â€” Gemini AI will visually analyse it alongside your text description for a more accurate diagnosis.</span>
            <div class="upload-dropzone" id="d-dropzone">
              <input type="file" id="d-image-input" accept="image/*" onchange="handleImageUpload(event)">
              <span class="upload-icon">ğŸ“¸</span>
              <div class="upload-text">Click to upload or drag &amp; drop</div>
              <div class="upload-subtext">JPG Â· PNG Â· WEBP Â· Max 5 MB</div>
            </div>
            <div class="upload-preview" id="d-upload-preview">
              <img id="d-preview-img" src="" alt="Uploaded crop photo">
              <button class="upload-remove-btn" onclick="removeImage()" title="Remove image">âœ•</button>
              <div class="upload-filename" id="d-filename"></div>
              <span class="upload-badge" id="d-vision-badge">ğŸ¤– Gemini Vision will analyse this image</span>
            </div>
          </div>

          <div class="form-grid full">
            <div class="form-group"><label class="form-label" for="d-symptoms">Symptoms Description *</label><textarea class="form-textarea" id="d-symptoms" placeholder="e.g., Yellow spots on leaves with brown edges, leaves wilting, white powder on underside of leaves, brown lesions on stem, unusual smell..."></textarea></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="d-when">When First Noticed</label><select class="form-select" id="d-when"><option value="">Select</option><option>Today</option><option>2â€“3 days ago</option><option>1 week ago</option><option>2+ weeks ago</option></select></div>
            <div class="form-group"><label class="form-label" for="d-weather">Recent Weather</label><select class="form-select" id="d-weather"><option value="">Select</option><option>Hot & Dry</option><option>Hot & Humid</option><option>Cool & Wet</option><option>Rainy / Flooding</option><option>Normal</option></select></div>
          </div>
          <div class="form-grid full">
            <div class="form-group"><label class="form-label" for="d-location">Your State / Region</label><input class="form-input" id="d-location" placeholder="e.g., Andhra Pradesh, Punjab, Maharashtra..."></div>
          </div>
          <button class="submit-btn" onclick="analyzeDisease()"><span id="d-btn-text">ğŸ”¬ Analyze Disease with AI</span><div class="spinner" id="d-spinner" aria-hidden="true"></div></button>
        </div>
        <div id="d-result" class="result-card" role="region" aria-live="polite">
          <div class="result-header"><div class="result-icon" aria-hidden="true">ğŸ¦ </div><div class="result-header-text"><h3>AI Diagnosis Report</h3><div class="result-timestamp" id="d-ts"></div></div></div>
          <div class="result-skeleton hidden" id="d-skel"><div class="skeleton skeleton-line" style="width:80%"></div><div class="skeleton skeleton-line" style="width:60%"></div><div class="skeleton skeleton-block"></div><div class="skeleton skeleton-line" style="width:90%"></div><div class="skeleton skeleton-line" style="width:70%"></div></div>
          <div class="result-body" id="d-result-text"></div>
        </div>
      </div>
      <div class="sidebar-card"><h4>ğŸ’¡ Pro Tips</h4><div class="tip-item"><span class="tip-bullet">â†’</span>Check both top and bottom surfaces of affected leaves â€” many fungal spores are on the underside</div><div class="tip-item"><span class="tip-bullet">â†’</span>Note if disease started from field edges or center â€” helps identify spread pattern</div><div class="tip-item"><span class="tip-bullet">â†’</span>Look for insect presence â€” insects often vector bacterial and viral diseases</div><div class="tip-item"><span class="tip-bullet">â†’</span>Most fungal diseases worsen in humid conditions (RH &gt; 80%)</div><div class="tip-item"><span class="tip-bullet">â†’</span>Isolate or flag affected plants to track spread direction</div><div class="tip-item"><span class="tip-bullet">â†’</span>Early morning is the best time to observe symptoms clearly</div></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE: FERTILIZER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-fertilizer" class="page">
  <div class="module-banner"><span class="module-tag">ğŸ§ª AI Module</span><h1 class="module-title">Fertilizer Optimization</h1><p class="module-desc">Get a complete, soil-specific fertilizer plan with exact NPK doses, split schedules, micronutrients, and organic alternatives.</p></div>
  <div class="module-body">
    <div class="module-layout">
      <div>
        <div class="form-card">
          <div class="form-title">ğŸŒ± Crop & Soil Details</div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="f-crop">Crop *</label><select class="form-select" id="f-crop"><option value="">Select Crop</option><option>Rice</option><option>Wheat</option><option>Maize</option><option>Cotton</option><option>Sugarcane</option><option>Vegetables</option><option>Pulses</option><option>Groundnut</option><option>Soybean</option><option>Fruits</option><option>Other</option></select></div>
            <div class="form-group"><label class="form-label" for="f-area">Land Area (Acres)</label><input class="form-input" id="f-area" type="number" min="0.1" step="0.1" placeholder="e.g., 2.5"></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="f-soil">Soil Type</label><select class="form-select" id="f-soil"><option value="">Select</option><option>Black Cotton Soil</option><option>Red Laterite Soil</option><option>Sandy Loam</option><option>Clay Loam</option><option>Alluvial Soil</option><option>Sandy</option><option>Not Sure</option></select></div>
            <div class="form-group"><label class="form-label" for="f-ph">Soil pH (if known)</label><input class="form-input" id="f-ph" placeholder="e.g., 6.5"></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="f-nitrogen">Nitrogen Level</label><select class="form-select" id="f-nitrogen"><option value="">Select</option><option>Very Low (&lt;100 kg/ha)</option><option>Low (100â€“200)</option><option>Medium (200â€“400)</option><option>High (&gt;400)</option><option>Not Tested</option></select></div>
            <div class="form-group"><label class="form-label" for="f-prev">Previous Crop</label><input class="form-input" id="f-prev" placeholder="e.g., Pulses, Paddy, Fallow..."></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="f-irrigation">Irrigation</label><select class="form-select" id="f-irrigation"><option value="">Select</option><option>Drip Irrigation</option><option>Sprinkler</option><option>Canal / Flood</option><option>Borewell</option><option>Rain-fed Only</option></select></div>
            <div class="form-group"><label class="form-label" for="f-pref">Preference</label><select class="form-select" id="f-pref"><option value="">Select</option><option>Chemical OK</option><option>Prefer Organic</option><option>Mix of Both</option></select></div>
          </div>
          <div class="form-grid full"><div class="form-group"><label class="form-label" for="f-notes">Additional Notes</label><textarea class="form-textarea" id="f-notes" placeholder="e.g., Yellowing of old leaves, stunted growth, fruit dropping, soil looks hard or crusted..."></textarea></div></div>
          <button class="submit-btn" onclick="analyzeFertilizer()"><span id="f-btn-text">ğŸ§ª Get Fertilizer Plan</span><div class="spinner" id="f-spinner"></div></button>
        </div>
        <div id="f-result" class="result-card" role="region" aria-live="polite">
          <div class="result-header"><div class="result-icon" aria-hidden="true">ğŸŒ±</div><div class="result-header-text"><h3>Fertilizer Recommendation</h3><div class="result-timestamp" id="f-ts"></div></div></div>
          <div class="result-skeleton hidden" id="f-skel"><div class="skeleton skeleton-line" style="width:75%"></div><div class="skeleton skeleton-line" style="width:55%"></div><div class="skeleton skeleton-block"></div><div class="skeleton skeleton-line" style="width:85%"></div></div>
          <div class="result-body" id="f-result-text"></div>
        </div>
      </div>
      <div class="sidebar-card"><h4>ğŸ’¡ Fertilizer Tips</h4><div class="tip-item"><span class="tip-bullet">â†’</span>Get a Soil Health Card from your nearest Krishi Kendra â€” it's completely FREE</div><div class="tip-item"><span class="tip-bullet">â†’</span>Split nitrogen into 2â€“3 applications â€” never apply all at once, reduces losses</div><div class="tip-item"><span class="tip-bullet">â†’</span>Previous pulse crop adds ~30â€“40 kg N/ha naturally to soil</div><div class="tip-item"><span class="tip-bullet">â†’</span>Apply fertilizers after light irrigation for better absorption</div><div class="tip-item"><span class="tip-bullet">â†’</span>Zinc deficiency (interveinal chlorosis) is the most common micronutrient issue</div></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE: IRRIGATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-irrigation" class="page">
  <div class="module-banner"><span class="module-tag">ğŸ’§ AI Module</span><h1 class="module-title">Smart Irrigation Planner</h1><p class="module-desc">Determine exact water needs, optimal scheduling, and the most efficient irrigation method to maximize yield at every growth stage.</p></div>
  <div class="module-body">
    <div class="module-layout">
      <div>
        <div class="form-card">
          <div class="form-title">ğŸ’§ Irrigation Details</div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="i-crop">Crop *</label><select class="form-select" id="i-crop"><option value="">Select Crop</option><option>Rice</option><option>Wheat</option><option>Maize</option><option>Cotton</option><option>Sugarcane</option><option>Tomato</option><option>Vegetables (Leafy)</option><option>Onion / Garlic</option><option>Pulses</option><option>Groundnut</option><option>Other</option></select></div>
            <div class="form-group"><label class="form-label" for="i-stage">Growth Stage</label><select class="form-select" id="i-stage"><option value="">Select</option><option>Germination / Seedling</option><option>Tillering / Vegetative</option><option>Flowering</option><option>Grain Filling / Fruiting</option><option>Maturity</option></select></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="i-soil">Soil Type</label><select class="form-select" id="i-soil"><option value="">Select</option><option>Sandy</option><option>Sandy Loam</option><option>Loam</option><option>Clay Loam</option><option>Clay / Heavy</option></select></div>
            <div class="form-group"><label class="form-label" for="i-season">Season</label><select class="form-select" id="i-season"><option value="">Select</option><option>Kharif (Monsoon)</option><option>Rabi (Winter)</option><option>Zaid (Summer)</option></select></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="i-source">Water Source</label><select class="form-select" id="i-source"><option value="">Select</option><option>Canal / River</option><option>Borewell / Tubewell</option><option>Rain-fed</option><option>Farm Pond</option><option>Drip System</option></select></div>
            <div class="form-group"><label class="form-label" for="i-area">Area (Acres)</label><input class="form-input" id="i-area" type="number" min="0.1" step="0.1" placeholder="e.g., 3"></div>
          </div>
          <div class="form-grid full"><div class="form-group"><label class="form-label" for="i-issue">Current Issue (if any)</label><textarea class="form-textarea" id="i-issue" placeholder="e.g., Leaves wilting in afternoon, soil dry 2 inches down, waterlogging after rain, water supply insufficient..."></textarea></div></div>
          <button class="submit-btn" onclick="analyzeIrrigation()"><span id="i-btn-text">ğŸ’§ Get Irrigation Plan</span><div class="spinner" id="i-spinner"></div></button>
        </div>
        <div id="i-result" class="result-card" role="region" aria-live="polite">
          <div class="result-header"><div class="result-icon" aria-hidden="true">ğŸ’§</div><div class="result-header-text"><h3>Irrigation Schedule</h3><div class="result-timestamp" id="i-ts"></div></div></div>
          <div class="result-skeleton hidden" id="i-skel"><div class="skeleton skeleton-line" style="width:70%"></div><div class="skeleton skeleton-block"></div><div class="skeleton skeleton-line" style="width:80%"></div></div>
          <div class="result-body" id="i-result-text"></div>
        </div>
      </div>
      <div class="sidebar-card"><h4>ğŸ’¡ Water Saving Tips</h4><div class="tip-item"><span class="tip-bullet">â†’</span>Drip irrigation saves 40â€“50% water vs flood â€” PMKSY subsidy available</div><div class="tip-item"><span class="tip-bullet">â†’</span>Irrigate early morning or evening to reduce evaporation loss</div><div class="tip-item"><span class="tip-bullet">â†’</span>Finger test: push into soil 2 inches â€” if dry, time to irrigate</div><div class="tip-item"><span class="tip-bullet">â†’</span>Mulching reduces soil moisture loss by 25â€“30%</div><div class="tip-item"><span class="tip-bullet">â†’</span>Most critical stages: flowering and grain filling â€” never miss irrigation then</div></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE: MARKET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-market" class="page">
  <div class="module-banner"><span class="module-tag">ğŸ“Š AI Module</span><h1 class="module-title">Market Intelligence</h1><p class="module-desc">Price insights, best mandis, MSP comparison, and smart selling strategies so you never leave money on the table.</p></div>
  <div class="module-body">
    <div class="module-layout">
      <div>
        <div class="form-card">
          <div class="form-title">ğŸ“ˆ Your Selling Details</div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="m-crop">Crop to Sell *</label><select class="form-select" id="m-crop"><option value="">Select Crop</option><option>Rice / Paddy</option><option>Wheat</option><option>Maize</option><option>Cotton</option><option>Soybean</option><option>Groundnut</option><option>Onion</option><option>Tomato</option><option>Chilli</option><option>Turmeric</option><option>Sugarcane</option><option>Mango</option><option>Banana</option><option>Pulses</option><option>Other</option></select></div>
            <div class="form-group"><label class="form-label" for="m-qty">Quantity (Quintals)</label><input class="form-input" id="m-qty" type="number" min="1" placeholder="e.g., 50"></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="m-state">State *</label><select class="form-select" id="m-state"><option value="">Select State</option><option>Andhra Pradesh</option><option>Telangana</option><option>Karnataka</option><option>Tamil Nadu</option><option>Maharashtra</option><option>Punjab</option><option>Haryana</option><option>Uttar Pradesh</option><option>Madhya Pradesh</option><option>Rajasthan</option><option>Gujarat</option><option>West Bengal</option><option>Bihar</option><option>Odisha</option><option>Other</option></select></div>
            <div class="form-group"><label class="form-label" for="m-district">Nearest District / City</label><input class="form-input" id="m-district" placeholder="e.g., Guntur, Nashik..."></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="m-status">Harvest Status</label><select class="form-select" id="m-status"><option value="">Select</option><option>Harvested, ready to sell</option><option>Harvest in 1â€“2 weeks</option><option>1 month away</option><option>Planning next season</option></select></div>
            <div class="form-group"><label class="form-label" for="m-grade">Quality Grade</label><select class="form-select" id="m-grade"><option value="">Select</option><option>Grade A (Premium)</option><option>Grade B (Standard)</option><option>Mixed Quality</option><option>Not Graded</option></select></div>
          </div>
          <div class="form-grid full"><div class="form-group"><label class="form-label" for="m-rate">Current Rate Being Offered (â‚¹/Quintal)</label><input class="form-input" id="m-rate" placeholder="e.g., 1800 â€” what traders are currently offering you"></div></div>
          <button class="submit-btn" onclick="analyzeMarket()"><span id="m-btn-text">ğŸ“Š Get Market Strategy</span><div class="spinner" id="m-spinner"></div></button>
        </div>
        <div id="m-result" class="result-card" role="region" aria-live="polite">
          <div class="result-header"><div class="result-icon" aria-hidden="true">ğŸ“Š</div><div class="result-header-text"><h3>Market Intelligence Report</h3><div class="result-timestamp" id="m-ts"></div></div></div>
          <div class="result-skeleton hidden" id="m-skel"><div class="skeleton skeleton-line" style="width:65%"></div><div class="skeleton skeleton-block"></div><div class="skeleton skeleton-line" style="width:80%"></div><div class="skeleton skeleton-line" style="width:55%"></div></div>
          <div class="result-body" id="m-result-text"></div>
        </div>
      </div>
      <div class="sidebar-card"><h4>ğŸ’¡ Smart Selling Tips</h4><div class="tip-item"><span class="tip-bullet">â†’</span>Register on eNAM portal for transparent auction and better prices</div><div class="tip-item"><span class="tip-bullet">â†’</span>Grading and cleaning produce can fetch 15â€“20% higher price</div><div class="tip-item"><span class="tip-bullet">â†’</span>Never sell in distress â€” use warehouse receipt financing to wait</div><div class="tip-item"><span class="tip-bullet">â†’</span>Join FPO (Farmer Producer Org) for collective bargaining power</div><div class="tip-item"><span class="tip-bullet">â†’</span>Always check MSP before selling â€” never sell below minimum support price</div></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE: SUBSIDY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-subsidy" class="page">
  <div class="module-banner"><span class="module-tag">ğŸ›ï¸ Government Schemes</span><h1 class="module-title">Subsidy & Loan Finder</h1><p class="module-desc">Discover all government schemes, subsidies, crop insurance, and agricultural loans you're eligible for â€” with step-by-step application guidance.</p></div>
  <div class="module-body">
    <div class="module-layout">
      <div>
        <div class="form-card">
          <div class="form-title">ğŸ‘¨â€ğŸŒ¾ Your Farmer Profile</div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="s-state">State *</label><select class="form-select" id="s-state"><option value="">Select State</option><option>Andhra Pradesh</option><option>Telangana</option><option>Karnataka</option><option>Tamil Nadu</option><option>Maharashtra</option><option>Punjab</option><option>Haryana</option><option>Uttar Pradesh</option><option>Madhya Pradesh</option><option>Rajasthan</option><option>Gujarat</option><option>West Bengal</option><option>Bihar</option><option>Odisha</option><option>Jharkhand</option><option>Chhattisgarh</option><option>Other</option></select></div>
            <div class="form-group"><label class="form-label" for="s-size">Farm Size</label><select class="form-select" id="s-size"><option value="">Select</option><option>Less than 1 Acre (Marginal)</option><option>1â€“2.5 Acres (Small)</option><option>2.5â€“5 Acres</option><option>5â€“10 Acres</option><option>More than 10 Acres</option></select></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="s-crop">Primary Crop</label><select class="form-select" id="s-crop"><option value="">Select</option><option>Food Grains (Rice/Wheat)</option><option>Pulses</option><option>Oilseeds</option><option>Vegetables</option><option>Fruits</option><option>Cotton</option><option>Sugarcane</option><option>Mixed Farming</option></select></div>
            <div class="form-group"><label class="form-label" for="s-category">Category</label><select class="form-select" id="s-category"><option value="">Select</option><option>General</option><option>SC (Scheduled Caste)</option><option>ST (Scheduled Tribe)</option><option>OBC</option><option>Women Farmer</option></select></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="s-aadhar">Have Aadhar Card?</label><select class="form-select" id="s-aadhar"><option>Yes</option><option>No</option></select></div>
            <div class="form-group"><label class="form-label" for="s-bank">Bank Account Linked?</label><select class="form-select" id="s-bank"><option>Yes</option><option>No</option></select></div>
          </div>
          <div class="form-grid full"><div class="form-group"><label class="form-label" for="s-need">What Are You Looking For?</label><select class="form-select" id="s-need"><option value="">Select Need</option><option>All Available Schemes</option><option>Crop Insurance (PMFBY)</option><option>Equipment Subsidy (Tractor, Pump)</option><option>Input Subsidy (Seeds, Fertilizer)</option><option>Drip / Sprinkler Subsidy (PMKSY)</option><option>Agricultural Loan / KCC</option><option>PM-KISAN Income Support</option><option>Organic Certification</option></select></div></div>
          <button class="submit-btn" onclick="analyzeSubsidy()"><span id="s-btn-text">ğŸ›ï¸ Find My Eligible Schemes</span><div class="spinner" id="s-spinner"></div></button>
        </div>
        <div id="s-result" class="result-card" role="region" aria-live="polite">
          <div class="result-header"><div class="result-icon" aria-hidden="true">ğŸ›ï¸</div><div class="result-header-text"><h3>Eligible Schemes & Subsidies</h3><div class="result-timestamp" id="s-ts"></div></div></div>
          <div class="result-skeleton hidden" id="s-skel"><div class="skeleton skeleton-line" style="width:80%"></div><div class="skeleton skeleton-block"></div><div class="skeleton skeleton-line" style="width:70%"></div><div class="skeleton skeleton-block"></div></div>
          <div class="result-body" id="s-result-text"></div>
        </div>
      </div>
      <div class="sidebar-card"><h4>ğŸ“‹ Documents to Keep Ready</h4><div class="tip-item"><span class="tip-bullet">âœ“</span>Aadhar Card (mandatory for most schemes)</div><div class="tip-item"><span class="tip-bullet">âœ“</span>Land Records (7/12 Utara, Patta, or Khatauni)</div><div class="tip-item"><span class="tip-bullet">âœ“</span>Bank account passbook with Aadhar linkage</div><div class="tip-item"><span class="tip-bullet">âœ“</span>Soil Health Card (for input subsidies)</div><div class="tip-item"><span class="tip-bullet">âœ“</span>Caste certificate (for SC/ST specific schemes)</div><div class="tip-item"><span class="tip-bullet">âœ“</span>Mobile number linked to Aadhar &amp; bank</div></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE: SOIL HEALTH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-soil" class="page">
  <div class="module-banner"><span class="module-tag">ğŸª± AI Module</span><h1 class="module-title">Soil Health Analysis</h1><p class="module-desc">Enter your soil test values and get a full AI interpretation â€” deficiency identification, amendments, ideal crops, and long-term improvement plan.</p></div>
  <div class="module-body">
    <div class="module-layout">
      <div>
        <div class="form-card">
          <div class="form-title">ğŸŒ Soil Test Results</div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="sl-ph">Soil pH *</label><input class="form-input" id="sl-ph" placeholder="e.g., 6.5 (scale 0â€“14)"></div>
            <div class="form-group"><label class="form-label" for="sl-type">Soil Type</label><select class="form-select" id="sl-type"><option value="">Select</option><option>Sandy</option><option>Sandy Loam</option><option>Loam</option><option>Clay Loam</option><option>Clay</option><option>Black Cotton</option><option>Red Laterite</option><option>Alluvial</option></select></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="sl-oc">Organic Carbon (%)</label><input class="form-input" id="sl-oc" placeholder="e.g., 0.5 (normal 0.5â€“0.75%)"></div>
            <div class="form-group"><label class="form-label" for="sl-n">Available N (kg/ha)</label><input class="form-input" id="sl-n" placeholder="e.g., 250"></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="sl-p">Available P (kg/ha)</label><input class="form-input" id="sl-p" placeholder="e.g., 18"></div>
            <div class="form-group"><label class="form-label" for="sl-k">Available K (kg/ha)</label><input class="form-input" id="sl-k" placeholder="e.g., 280"></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="sl-ec">EC (dS/m)</label><input class="form-input" id="sl-ec" placeholder="e.g., 0.8 (&lt;1.0 is normal)"></div>
            <div class="form-group"><label class="form-label" for="sl-zn">Zinc Status</label><select class="form-select" id="sl-zn"><option value="">Select</option><option>Deficient (&lt;0.6 ppm)</option><option>Normal (0.6â€“2 ppm)</option><option>High (&gt;2 ppm)</option><option>Not Tested</option></select></div>
          </div>
          <div class="form-grid full"><div class="form-group"><label class="form-label" for="sl-info">Location &amp; Intended Crop</label><input class="form-input" id="sl-info" placeholder="e.g., Guntur district, AP â€” planning to grow chilli"></div></div>
          <button class="submit-btn" onclick="analyzeSoil()"><span id="sl-btn-text">ğŸª± Analyze My Soil</span><div class="spinner" id="sl-spinner"></div></button>
        </div>
        <div id="sl-result" class="result-card" role="region" aria-live="polite">
          <div class="result-header"><div class="result-icon" aria-hidden="true">ğŸŒ</div><div class="result-header-text"><h3>Soil Health Report</h3><div class="result-timestamp" id="sl-ts"></div></div></div>
          <div class="result-skeleton hidden" id="sl-skel"><div class="skeleton skeleton-line" style="width:75%"></div><div class="skeleton skeleton-block"></div><div class="skeleton skeleton-line" style="width:60%"></div></div>
          <div class="result-body" id="sl-result-text"></div>
        </div>
      </div>
      <div class="sidebar-card"><h4>ğŸ“Š Quick Reference</h4><div class="tip-item"><span class="tip-bullet">pH</span>5.5â€“7.5 ideal for most crops. Below 5.5 = acidic, above 8.5 = alkaline</div><div class="tip-item"><span class="tip-bullet">OC</span>Above 0.75% is good. Below 0.5% needs organic matter addition urgently</div><div class="tip-item"><span class="tip-bullet">N</span>&gt;280 kg/ha = High Â· 140â€“280 = Medium Â· &lt;140 = Low/Deficient</div><div class="tip-item"><span class="tip-bullet">P</span>&gt;20 kg/ha = High Â· 10â€“20 = Medium Â· &lt;10 = Low</div><div class="tip-item"><span class="tip-bullet">EC</span>&gt;4 dS/m = Saline soil â€” toxic for most crops, needs reclamation</div></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE: WEATHER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-weather" class="page">
  <div class="module-banner"><span class="module-tag">ğŸŒ¤ï¸ AI Module</span><h1 class="module-title">Weather-Based Farm Advisory</h1><p class="module-desc">Get personalized farming recommendations based on current and forecasted weather â€” so you know exactly what to do this week.</p></div>
  <div class="module-body">
    <div class="module-layout">
      <div>
        <div class="form-card">
          <div class="form-title">ğŸŒ¦ï¸ Your Location &amp; Crop</div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="w-state">State *</label><select class="form-select" id="w-state"><option value="">Select State</option><option>Andhra Pradesh</option><option>Telangana</option><option>Karnataka</option><option>Tamil Nadu</option><option>Maharashtra</option><option>Punjab</option><option>Haryana</option><option>Uttar Pradesh</option><option>Rajasthan</option><option>Gujarat</option><option>Other</option></select></div>
            <div class="form-group"><label class="form-label" for="w-season">Season</label><select class="form-select" id="w-season"><option>Kharif (Juneâ€“October)</option><option>Rabi (Novemberâ€“March)</option><option>Zaid (Aprilâ€“June)</option></select></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="w-crop">Current Crop</label><select class="form-select" id="w-crop"><option value="">Select</option><option>Rice</option><option>Wheat</option><option>Cotton</option><option>Vegetables</option><option>Maize</option><option>Sugarcane</option><option>Pulses</option><option>Other</option></select></div>
            <div class="form-group"><label class="form-label" for="w-current">Current Weather</label><select class="form-select" id="w-current"><option value="">Select</option><option>Hot &amp; Sunny (&gt;38Â°C)</option><option>Moderate (25â€“35Â°C)</option><option>Cool (15â€“25Â°C)</option><option>Rainy / Monsoon</option><option>Heavy Rains / Flooding</option><option>Cold Wave (&lt;10Â°C)</option><option>Hailstorm Recently</option></select></div>
          </div>
          <div class="form-grid full"><div class="form-group"><label class="form-label" for="w-concern">Specific Concern</label><textarea class="form-textarea" id="w-concern" placeholder="e.g., Heavy rain expected next week â€” should I harvest early? Or â€” drought conditions, crop wilting..."></textarea></div></div>
          <button class="submit-btn" onclick="analyzeWeather()"><span id="w-btn-text">ğŸŒ¤ï¸ Get Weather-Based Advice</span><div class="spinner" id="w-spinner"></div></button>
        </div>
        <div id="w-result" class="result-card" role="region" aria-live="polite">
          <div class="result-header"><div class="result-icon" aria-hidden="true">ğŸŒ¤ï¸</div><div class="result-header-text"><h3>Weather Advisory</h3><div class="result-timestamp" id="w-ts"></div></div></div>
          <div class="result-skeleton hidden" id="w-skel"><div class="skeleton skeleton-line" style="width:70%"></div><div class="skeleton skeleton-block"></div><div class="skeleton skeleton-line" style="width:85%"></div></div>
          <div class="result-body" id="w-result-text"></div>
        </div>
      </div>
      <div class="sidebar-card"><h4>ğŸŒ¡ï¸ Quick Weather Responses</h4><div class="tip-item"><span class="tip-bullet">ğŸŒ§ï¸</span>Before rains: complete fertilizer and pesticide applications first</div><div class="tip-item"><span class="tip-bullet">â˜€ï¸</span>Heat wave: increase irrigation frequency, mulch to retain moisture</div><div class="tip-item"><span class="tip-bullet">â„ï¸</span>Cold wave: protect with frost guards, avoid night irrigation</div><div class="tip-item"><span class="tip-bullet">ğŸŒªï¸</span>Storm warning: harvest any mature crops immediately</div><div class="tip-item"><span class="tip-bullet">ğŸ’§</span>Excess rain: open drainage, apply fungicide preventively</div></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE: HARVEST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-harvest" class="page">
  <div class="module-banner"><span class="module-tag">ğŸŒ¾ AI Module</span><h1 class="module-title">Harvest Planning</h1><p class="module-desc">Know the perfect time to harvest, post-harvest handling best practices, and storage recommendations to minimize losses and maximize income.</p></div>
  <div class="module-body">
    <div class="module-layout">
      <div>
        <div class="form-card">
          <div class="form-title">ğŸŒ¾ Harvest Details</div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="h-crop">Crop *</label><select class="form-select" id="h-crop"><option value="">Select</option><option>Rice</option><option>Wheat</option><option>Maize</option><option>Soybean</option><option>Tomato</option><option>Onion</option><option>Cotton</option><option>Sugarcane</option><option>Potato</option><option>Mango</option><option>Banana</option><option>Other</option></select></div>
            <div class="form-group"><label class="form-label" for="h-sow">Sowing / Planting Date</label><input class="form-input" type="date" id="h-sow"></div>
          </div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="h-variety">Variety / Type</label><input class="form-input" id="h-variety" placeholder="e.g., BPT 5204, Samba Masuri, Hybrid..."></div>
            <div class="form-group"><label class="form-label" for="h-appearance">Current Appearance</label><select class="form-select" id="h-appearance"><option value="">Select</option><option>Still Green, Not Mature</option><option>Turning Yellow / Drying</option><option>Grains are Hard (Dough Stage)</option><option>Looks Ready to Harvest</option><option>Overdue / Grain Shattering</option></select></div>
          </div>
          <div class="form-grid full"><div class="form-group"><label class="form-label" for="h-plan">Post-Harvest Plan</label><select class="form-select" id="h-plan"><option value="">Select</option><option>Sell immediately after harvest</option><option>Store 1â€“2 months, then sell</option><option>Store 3â€“6 months (wait for price rise)</option><option>Process / Value addition</option></select></div></div>
          <button class="submit-btn" onclick="analyzeHarvest()"><span id="h-btn-text">ğŸŒ¾ Get Harvest Plan</span><div class="spinner" id="h-spinner"></div></button>
        </div>
        <div id="h-result" class="result-card" role="region" aria-live="polite">
          <div class="result-header"><div class="result-icon" aria-hidden="true">ğŸŒ¾</div><div class="result-header-text"><h3>Harvest Advisory</h3><div class="result-timestamp" id="h-ts"></div></div></div>
          <div class="result-skeleton hidden" id="h-skel"><div class="skeleton skeleton-line" style="width:60%"></div><div class="skeleton skeleton-block"></div><div class="skeleton skeleton-line" style="width:75%"></div></div>
          <div class="result-body" id="h-result-text"></div>
        </div>
      </div>
      <div class="sidebar-card"><h4>ğŸŒ¾ Harvest Wisdom</h4><div class="tip-item"><span class="tip-bullet">â†’</span>Harvest in cool morning hours to reduce moisture stress on crop</div><div class="tip-item"><span class="tip-bullet">â†’</span>Target moisture: Rice &lt;14%, Wheat &lt;12%, Maize &lt;13% for safe storage</div><div class="tip-item"><span class="tip-bullet">â†’</span>Post-harvest losses can be 15â€“30% â€” proper handling is crucial</div><div class="tip-item"><span class="tip-bullet">â†’</span>Use hermetic storage bags (PICS bags) to prevent storage pests</div><div class="tip-item"><span class="tip-bullet">â†’</span>Warehouse Receipt System allows loans against stored produce</div></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE: ORGANIC
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-organic" class="page">
  <div class="module-banner"><span class="module-tag">ğŸ€ Organic Farming</span><h1 class="module-title">Organic Farming Guide</h1><p class="module-desc">Transition sustainably to organic farming. Get step-by-step guidance on biofertilizers, composting, pest management, and certification.</p></div>
  <div class="module-body">
    <div class="module-layout">
      <div>
        <div class="form-card">
          <div class="form-title">ğŸ€ Your Organic Journey</div>
          <div class="form-grid">
            <div class="form-group"><label class="form-label" for="o-current">Current Farming Type</label><select class="form-select" id="o-current"><option>Fully Chemical-Based</option><option>Partially Organic</option><option>Already Organic (Uncertified)</option><option>Certified Organic</option></select></div>
            <div class="form-group"><label class="form-label" for="o-crop">Main Crop</label><select class="form-select" id="o-crop"><option value="">Select</option><option>Vegetables</option><option>Rice</option><option>Wheat</option><option>Fruits</option><option>Pulses</option><option>Spices</option><option>Cotton</option><option>Mixed Crops</option></select></div>
          </div>
          <div class="form-grid full"><div class="form-group"><label class="form-label" for="o-need">What Help Do You Need?</label><select class="form-select" id="o-need"><option>How to start transitioning to organic</option><option>Biofertilizer prep (Jeevamrutha, Panchagavya)</option><option>Composting &amp; vermicomposting</option><option>Organic pest management</option><option>Organic certification process</option><option>Getting premium price for organic produce</option></select></div></div>
          <div class="form-grid full"><div class="form-group"><label class="form-label" for="o-context">Additional Context</label><textarea class="form-textarea" id="o-context" placeholder="Describe your situation, available resources, livestock on farm, challenges you're facing..."></textarea></div></div>
          <button class="submit-btn" onclick="analyzeOrganic()"><span id="o-btn-text">ğŸ€ Get Organic Guidance</span><div class="spinner" id="o-spinner"></div></button>
        </div>
        <div id="o-result" class="result-card" role="region" aria-live="polite">
          <div class="result-header"><div class="result-icon" aria-hidden="true">ğŸ€</div><div class="result-header-text"><h3>Organic Farming Guidance</h3><div class="result-timestamp" id="o-ts"></div></div></div>
          <div class="result-skeleton hidden" id="o-skel"><div class="skeleton skeleton-line" style="width:80%"></div><div class="skeleton skeleton-block"></div><div class="skeleton skeleton-line" style="width:65%"></div></div>
          <div class="result-body" id="o-result-text"></div>
        </div>
      </div>
      <div class="sidebar-card"><h4>ğŸŒ¿ Organic Basics</h4><div class="tip-item"><span class="tip-bullet">â†’</span>Transition takes 2â€“3 years â€” plan your finances accordingly</div><div class="tip-item"><span class="tip-bullet">â†’</span>Jeevamrutha (cow dung based) is a powerful and cheap biostimulant</div><div class="tip-item"><span class="tip-bullet">â†’</span>PGS-India (Participatory Guarantee System) is easier than full certification</div><div class="tip-item"><span class="tip-bullet">â†’</span>Vermicompost increases soil OC by ~0.1% per season</div><div class="tip-item"><span class="tip-bullet">â†’</span>Certified organic produce fetches 30â€“50% premium in direct markets</div></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ABOUT PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-about" class="page">
  <div class="module-banner"><span class="module-tag">â„¹ï¸ About</span><h1 class="module-title">About AgriMitra</h1><p class="module-desc">Built with a mission to empower India's 140 million small and marginal farmers with intelligent, accessible AI advisory.</p></div>
  <div class="section">
    <div class="about-grid">
      <div class="about-visual">
        <span class="about-visual-icon">ğŸŒ¾</span>
        <h2>Empowering Farmers with AI</h2>
        <p>AgriMitra bridges the gap between agricultural science and the farmer in the field â€” giving every farmer expert-level advice, 24/7, for free.</p>
      </div>
      <div>
        <h2 class="section-title" style="margin-bottom:14px;">Our Vision</h2>
        <p style="color:var(--text-mid);line-height:1.72;margin-bottom:16px;font-size:clamp(0.88rem,1.5vw,0.98rem);">India has 140 million farm households. 86% are small or marginal farmers with less than 5 acres. They face enormous challenges: crop diseases they can't identify, fertilizer decisions based on guesswork, market prices manipulated by middlemen, and government schemes they don't know about.</p>
        <p style="color:var(--text-mid);line-height:1.72;font-size:clamp(0.88rem,1.5vw,0.98rem);">AgriMitra is designed to be the "agricultural extension officer in your pocket" â€” intelligent, accessible, and always available. By integrating AI with domain expertise, we give every farmer the same quality of advice that large commercial farms pay consultants thousands of rupees for.</p>
        <div class="about-stats">
          <div class="about-stat"><div class="about-stat-num">9</div><div class="about-stat-label">AI-Powered Modules</div></div>
          <div class="about-stat"><div class="about-stat-num">Free</div><div class="about-stat-label">Always for Farmers</div></div>
          <div class="about-stat"><div class="about-stat-num">500+</div><div class="about-stat-label">Diseases Covered</div></div>
          <div class="about-stat"><div class="about-stat-num">30+</div><div class="about-stat-label">Govt. Schemes</div></div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     TOAST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="toast" role="alert" aria-live="assertive"></div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JAVASCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
'use strict';

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GEMINI FLASH API KEY
   âœ Get a FREE key at: https://aistudio.google.com/apikey
   âœ Paste it between the quotes below
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* â”€â”€â”€ SYSTEM PROMPT â”€â”€â”€ */
const SYSTEM_PROMPT = `You are AgriMitra, an expert AI agricultural advisor. 
STRICT RULE: You must respond ONLY in English. Even if the user uses Hindi terms, 
provide all advice, headers, and explanations in clear, professional English.

You have deep expertise in Indian agriculture: crops, soils, regional climate, 
government schemes, and farming practices across all Indian states.
Always give practical, actionable, region-specific advice. 
Format your response with clear sections using headers (e.g., "DIAGNOSIS:", "TREATMENT:").
Be specific with quantities, timing, and product names widely available in India.
End each response with a brief KEY TAKEAWAY.`;
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CORE GEMINI CALL â€” TEXT ONLY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function callGemini(userMessage, config) {
  const { btnText, spinner, resultCard, skelId, resultText, timestamp } = config;
  const btn = btnText.closest('button');

  btn.disabled = true;
  spinner.style.display = 'block';
  btnText.style.opacity = '0.5';
  resultCard.classList.add('visible');
  resultText.textContent = '';
  showSkeleton(skelId);

  try {
    const body = {
      systemInstruction: { parts: [{ text: SYSTEM_PROMPT }] },
      contents: [{ parts: [{ text: userMessage }] }],
      generationConfig: { maxOutputTokens: 8192, temperature: 0.4 }
    };

    const response = await fetch('/api/gemini', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(body)
    });

    if (!response.ok) {
      const err = await response.json().catch(() => ({}));
      const msg = err?.error?.message || `HTTP ${response.status}`;
      throw new Error(msg);
    }

    const data = await response.json();
    const text = data?.candidates?.[0]?.content?.parts?.map(p => p.text || '').join('\n').trim();
    if (!text) throw new Error('Empty response from Gemini.');

    hideSkeleton(skelId);
    resultText.textContent = text;
    timestamp.textContent = 'Generated at ' + new Date().toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit' });
    showToast('âœ… Gemini AI analysis complete!', 'success');

  } catch (err) {
    hideSkeleton(skelId);
    resultText.textContent = 'âš ï¸ Error: ' + err.message +
      '\n\nğŸ“‹ Setup: Replace GEMINI_API_KEY in the script with your free key from https://aistudio.google.com/apikey';
    showToast('âŒ ' + err.message, 'error');
  } finally {
    btn.disabled = false;
    spinner.style.display = 'none';
    btnText.style.opacity = '1';
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GEMINI VISION CALL â€” TEXT + IMAGE
   Used exclusively for Disease Detection when image is uploaded
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function callGeminiVision(userMessage, imageBase64, imageMimeType, config) {
  const { btnText, spinner, resultCard, skelId, resultText, timestamp } = config;
  const btn = btnText.closest('button');

  btn.disabled = true;
  spinner.style.display = 'block';
  btnText.style.opacity = '0.5';
  resultCard.classList.add('visible');
  resultText.textContent = '';
  showSkeleton(skelId);

  try {
    const body = {
      systemInstruction: { parts: [{ text: SYSTEM_PROMPT }] },
      contents: [{
        parts: [
          {
            inlineData: {
              mimeType: imageMimeType,
              data: imageBase64
            }
          },
          {
            text: userMessage + '\n\n[Note: A photo of the affected crop has been provided above. Please visually examine it carefully and incorporate your visual observations â€” colour changes, lesion patterns, texture anomalies â€” into your diagnosis.]'
          }
        ]
      }],
      generationConfig: { maxOutputTokens: 8192, temperature: 0.35 }
    };

    const response = await fetch('/api/gemini', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(body)
    });

    if (!response.ok) {
      const err = await response.json().catch(() => ({}));
      throw new Error(err?.error?.message || `HTTP ${response.status}`);
    }

    const data = await response.json();
    const text = data?.candidates?.[0]?.content?.parts?.map(p => p.text || '').join('\n').trim();
    if (!text) throw new Error('Empty response from Gemini Vision.');

    hideSkeleton(skelId);
    resultText.textContent = text;
    timestamp.textContent = 'Generated at ' + new Date().toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit' }) + ' Â· ğŸ“· Image analysed';
    showToast('âœ… Gemini Vision analysis complete!', 'success');

  } catch (err) {
    hideSkeleton(skelId);
    resultText.textContent = 'âš ï¸ Error: ' + err.message;
    showToast('âŒ ' + err.message, 'error');
  } finally {
    btn.disabled = false;
    spinner.style.display = 'none';
    btnText.style.opacity = '1';
  }
}

/* â”€â”€â”€ CONFIG HELPER â”€â”€â”€ */
function getConfig(prefix, skelId) {
  return {
    btnText:    document.getElementById(prefix + '-btn-text'),
    spinner:    document.getElementById(prefix + '-spinner'),
    resultCard: document.getElementById(prefix + '-result'),
    skelId,
    resultText: document.getElementById(prefix + '-result-text'),
    timestamp:  document.getElementById(prefix + '-ts')
  };
}
function val(id) { const el = document.getElementById(id); return el ? el.value.trim() : ''; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   IMAGE UPLOAD STATE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let _imgBase64 = null;
let _imgMime   = null;

function handleImageUpload(event) {
  const file = event.target.files[0];
  if (!file) return;

  if (file.size > 5 * 1024 * 1024) {
    showToast('âš ï¸ Image too large â€” please use a photo under 5 MB.', 'error');
    event.target.value = ''; return;
  }
  const allowed = ['image/jpeg','image/png','image/webp','image/gif'];
  if (!allowed.includes(file.type)) {
    showToast('âš ï¸ Use JPG, PNG, or WEBP format.', 'error');
    event.target.value = ''; return;
  }

  const reader = new FileReader();
  reader.onload = e => {
    const dataUrl = e.target.result;
    _imgBase64 = dataUrl.split(',')[1];
    _imgMime   = file.type;

    const preview = document.getElementById('d-upload-preview');
    document.getElementById('d-preview-img').src = dataUrl;
    document.getElementById('d-filename').textContent = `ğŸ“ ${file.name}  (${(file.size/1024).toFixed(0)} KB)`;
    preview.classList.add('has-image');

    const dz = document.getElementById('d-dropzone');
    dz.style.borderColor = 'var(--leaf)';
    showToast('ğŸ“· Photo ready â€” Gemini Vision will analyse it!', 'success');
  };
  reader.readAsDataURL(file);
}

function removeImage() {
  _imgBase64 = null; _imgMime = null;
  document.getElementById('d-upload-preview').classList.remove('has-image');
  document.getElementById('d-preview-img').src = '';
  document.getElementById('d-image-input').value = '';
  const dz = document.getElementById('d-dropzone');
  dz.style.borderColor = '';
  showToast('ğŸ—‘ï¸ Photo removed.', '');
}

/* Drag-and-drop */
document.addEventListener('DOMContentLoaded', () => {
  const dz = document.getElementById('d-dropzone');
  if (!dz) return;
  dz.addEventListener('dragover',  e => { e.preventDefault(); dz.classList.add('dragover'); });
  dz.addEventListener('dragleave', ()  => dz.classList.remove('dragover'));
  dz.addEventListener('drop',      e  => {
    e.preventDefault(); dz.classList.remove('dragover');
    const file = e.dataTransfer.files[0];
    if (file) {
      const inp = document.getElementById('d-image-input');
      const dt = new DataTransfer(); dt.items.add(file); inp.files = dt.files;
      handleImageUpload({ target: inp });
    }
  });
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NAVIGATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const PAGES = ['home','disease','fertilizer','irrigation','market','subsidy','soil','weather','harvest','organic','about'];

function showPage(id) {
  PAGES.forEach(p => {
    const el = document.getElementById('page-' + p);
    if (el) el.classList.toggle('active', p === id);
  });
  document.querySelectorAll('.nav-link, .mobile-nav-link').forEach(l => {
    const fn = l.getAttribute('onclick') || '';
    l.classList.toggle('active', fn.includes("'" + id + "'"));
  });
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

/* â”€â”€â”€ MOBILE NAV â”€â”€â”€ */
const hamburger = document.getElementById('hamburger');
const mobileNav = document.getElementById('mobile-nav');
const overlay   = document.getElementById('overlay');

function openMobileNav() {
  hamburger.classList.add('open'); mobileNav.classList.add('open');
  overlay.classList.add('show'); hamburger.setAttribute('aria-expanded','true');
  document.body.style.overflow = 'hidden';
}
function closeMobileNav() {
  hamburger.classList.remove('open'); mobileNav.classList.remove('open');
  overlay.classList.remove('show'); hamburger.setAttribute('aria-expanded','false');
  document.body.style.overflow = '';
}
hamburger.addEventListener('click', () =>
  mobileNav.classList.contains('open') ? closeMobileNav() : openMobileNav());
window.addEventListener('resize', () => { if (window.innerWidth > 1024) closeMobileNav(); });

/* â”€â”€â”€ TOAST â”€â”€â”€ */
let toastTimer = null;
function showToast(msg, type = '') {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.className = 'show' + (type ? ' ' + type : '');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(() => { t.className = ''; }, 3500);
}

/* â”€â”€â”€ SKELETON â”€â”€â”€ */
function showSkeleton(id) { const el=document.getElementById(id); if(el) el.classList.remove('hidden'); }
function hideSkeleton(id)  { const el=document.getElementById(id); if(el) el.classList.add('hidden'); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ANALYSE FUNCTIONS â€” ALL POWERED BY GEMINI FLASH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* â”€â”€ DISEASE â”€â”€ */
async function analyzeDisease() {
  if (!val('d-crop') || !val('d-symptoms')) return showToast('âš ï¸ Crop name and symptoms are required!');

  const msg = `Crop Disease Analysis:
Crop: ${val('d-crop')} | Stage: ${val('d-stage')} | Affected Part: ${val('d-part')}
Severity: ${val('d-severity')} | First Noticed: ${val('d-when')} | Weather: ${val('d-weather')}
Location: ${val('d-location')}
Symptoms: ${val('d-symptoms')}

Provide: 1) Most likely disease(s) with confidence 2) Cause (fungal/bacterial/viral/pest) 3) Severity & spread risk 4) Immediate 24â€“48hr action 5) Treatment with specific products available in India 6) Organic/low-cost alternatives 7) Prevention for next season`;

  const cfg = getConfig('d', 'd-skel');

  if (_imgBase64 && _imgMime) {
    await callGeminiVision(msg, _imgBase64, _imgMime, cfg);
  } else {
    await callGemini(msg, cfg);
  }
}

/* â”€â”€ FERTILIZER â”€â”€ */
async function analyzeFertilizer() {
  if (!val('f-crop')) return showToast('âš ï¸ Please select a crop!');
  const msg = `Fertilizer Optimization:
Crop: ${val('f-crop')} | Area: ${val('f-area')} acres | Soil: ${val('f-soil')} | pH: ${val('f-ph')}
Nitrogen: ${val('f-nitrogen')} | Previous Crop: ${val('f-prev')} | Irrigation: ${val('f-irrigation')} | Preference: ${val('f-pref')}
Notes: ${val('f-notes')}

Provide: 1) NPK recommendation (kg/acre) with split doses 2) Fertilizer products (Urea/DAP/MOP) with quantities 3) Application schedule with timing 4) Micronutrient recommendations 5) Organic alternatives 6) Estimated cost 7) Key do's and don'ts`;
  await callGemini(msg, getConfig('f', 'f-skel'));
}

/* â”€â”€ IRRIGATION â”€â”€ */
async function analyzeIrrigation() {
  if (!val('i-crop')) return showToast('âš ï¸ Please select a crop!');
  const msg = `Irrigation Planning:
Crop: ${val('i-crop')} | Stage: ${val('i-stage')} | Soil: ${val('i-soil')} | Season: ${val('i-season')}
Water Source: ${val('i-source')} | Area: ${val('i-area')} acres
Issue: ${val('i-issue')}

Provide: 1) Water requirement (mm or L/acre) for current stage 2) Irrigation schedule (frequency & duration) 3) Critical stages requiring irrigation 4) Water-saving recommendations 5) Signs of over/under irrigation 6) Best method for this situation 7) Emergency action if crop shows stress`;
  await callGemini(msg, getConfig('i', 'i-skel'));
}

/* â”€â”€ MARKET â”€â”€ */
async function analyzeMarket() {
  if (!val('m-crop')) return showToast('âš ï¸ Please select a crop!');
  const msg = `Market Intelligence:
Crop: ${val('m-crop')} | Qty: ${val('m-qty')} quintals | State: ${val('m-state')} | District: ${val('m-district')}
Status: ${val('m-status')} | Quality: ${val('m-grade')} | Current Rate: â‚¹${val('m-rate')}/quintal

Provide: 1) Typical market price range in this state 2) MSP if applicable 3) Best nearby mandis/APMCs 4) Is current rate fair or should farmer wait/negotiate? 5) Price trend outlook for next 4â€“6 weeks 6) How to improve price (grading/packaging/timing) 7) eNAM or direct selling opportunities 8) Clear recommendation: sell now or wait?`;
  await callGemini(msg, getConfig('m', 'm-skel'));
}

/* â”€â”€ SUBSIDY â”€â”€ */
async function analyzeSubsidy() {
  if (!val('s-state')) return showToast('âš ï¸ Please select your state!');
  const msg = `Government Scheme Finder:
State: ${val('s-state')} | Farm Size: ${val('s-size')} | Crop: ${val('s-crop')} | Category: ${val('s-category')}
Aadhar: ${val('s-aadhar')} | Bank Linked: ${val('s-bank')} | Looking For: ${val('s-need')}

Provide: 1) Top 5â€“7 Central schemes with benefits and how to apply 2) State-specific schemes for ${val('s-state')} 3) KCC eligibility and process 4) PMFBY crop insurance details 5) PM-KISAN eligibility and registration 6) Equipment subsidies if applicable 7) Step-by-step: what to do first, where to go, what documents`;
  await callGemini(msg, getConfig('s', 's-skel'));
}

/* â”€â”€ SOIL â”€â”€ */
async function analyzeSoil() {
  if (!val('sl-ph')) return showToast('âš ï¸ Please enter your soil pH!');
  const msg = `Soil Health Analysis:
pH: ${val('sl-ph')} | Type: ${val('sl-type')} | OC: ${val('sl-oc')}% | N: ${val('sl-n')} kg/ha
P: ${val('sl-p')} kg/ha | K: ${val('sl-k')} kg/ha | EC: ${val('sl-ec')} dS/m | Zinc: ${val('sl-zn')}
Location & Crop Plan: ${val('sl-info')}

Provide: 1) Overall soil health score & summary 2) Deficiency identification & severity 3) Soil amendments needed (lime/gypsum/OM) with quantities 4) Best suited crops for this soil 5) Fertilizer strategy 6) Steps to improve soil health over 1â€“2 seasons 7) Red flags or urgent issues`;
  await callGemini(msg, getConfig('sl', 'sl-skel'));
}

/* â”€â”€ WEATHER â”€â”€ */
async function analyzeWeather() {
  if (!val('w-state')) return showToast('âš ï¸ Please select your state!');
  const msg = `Weather-Based Farm Advisory:
State: ${val('w-state')} | Season: ${val('w-season')} | Crop: ${val('w-crop')} | Current Weather: ${val('w-current')}
Concern: ${val('w-concern')}

Provide: 1) Weather impact on current crop 2) Immediate actions for next 3â€“5 days 3) Irrigation adjustment 4) Disease/pest risk from current weather 5) Harvesting advice 6) Input application timing relative to weather 7) One-week action plan`;
  await callGemini(msg, getConfig('w', 'w-skel'));
}

/* â”€â”€ HARVEST â”€â”€ */
async function analyzeHarvest() {
  if (!val('h-crop')) return showToast('âš ï¸ Please select a crop!');
  const msg = `Harvest Planning:
Crop: ${val('h-crop')} | Sowing: ${val('h-sow')} | Variety: ${val('h-variety')}
Appearance: ${val('h-appearance')} | Plan: ${val('h-plan')}

Provide: 1) Harvest readiness assessment 2) Visual signs to check for ideal maturity 3) Best harvesting method 4) Optimal time of day to harvest 5) Immediate post-harvest handling 6) Moisture content targets before storage 7) Storage recommendations 8) Expected shelf life and quality tips`;
  await callGemini(msg, getConfig('h', 'h-skel'));
}

/* â”€â”€ ORGANIC â”€â”€ */
async function analyzeOrganic() {
  const msg = `Organic Farming Guidance:
Current Type: ${val('o-current')} | Crop: ${val('o-crop')} | Need: ${val('o-need')}
Context: ${val('o-context')}

Provide: 1) Step-by-step guidance on the specific need requested 2) Local/low-cost organic inputs and where to source them 3) Common mistakes to avoid 4) Expected timeline and results 5) Financial considerations 6) Government support for organic farming 7) First practical step to take this week`;
  await callGemini(msg, getConfig('o', 'o-skel'));
}

/* â”€â”€â”€ KEYBOARD ACCESSIBILITY â”€â”€â”€ */
document.querySelectorAll('[role="button"]').forEach(el => {
  el.addEventListener('keydown', e => {
    if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); el.click(); }
  });
});

/* â”€â”€â”€ INIT â”€â”€â”€ */
showPage('home');
</script>

</body>
</html>
